<h2><a href=https://www.codewars.com/kata/69347c0454f16273e13b56e8/train/javascript target="_blank">Best Perk or Cash Out</a></h2><h3>7 kyu</h3><h2 id="description">Description</h2><p>Your hero can upgrade their abilities between rounds in a tactical battle game. Each round, you're offered <strong>three upgrade options</strong>, each represented by a <strong>skill name</strong> and a <strong>percentage</strong> boost. You must choose wisely, following a clear decision hierarchy.</p><p>Some skills are <strong>preferred</strong> and should always be picked if available. Others are <strong>blacklisted</strong> and must be avoided. The rest are <strong>neutral</strong> — they're fine choices if no preferred option is offered. If none of the three options are acceptable, you can always fall back on the implicit <strong>fourth choice: taking money</strong>.</p><hr><h2 id="task">Task</h2><p>Write a function that chooses which option to take (<code>A</code>, <code>B</code>, <code>C</code>, or <code>D</code>) using the following rules:</p><ol><li><strong>Never</strong> pick an option if its skill is in the <strong>blacklist</strong>.  </li><li>If at least one offered skill belongs to the <strong>preferred</strong> set, choose the one among them with the <strong>highest percentage</strong>.  </li><li>If no offered skill is preferred but at least one is <strong>neutral</strong> (not blacklisted and not preferred), choose the neutral one with the <strong>highest percentage</strong>.  </li><li>If all three skills are blacklisted, choose <strong><code>D</code></strong> (for money).  </li><li>If several options have the same highest percentage at the step you are in, you may return any of them.</li></ol><p>Note: Skills may appear multiple times, and pairs can include duplicates.</p><p><strong>Input:</strong>  </p><ul><li><code>preferred</code>: set of strings (skills you strongly prefer).  </li><li><code>blacklisted</code>: set of strings (skills you should never take).  </li><li><code>options</code>: tuple of exactly 3 pairs <code>(skill, percentage)</code>, representing options <strong>A</strong>, <strong>B</strong>, and <strong>C</strong> in order.<ul><li><code>skill</code>: a string with the name of the skill</li><li><code>percentage</code>: a positive integer between 10 and 100</li></ul></li></ul><p><strong>Output:</strong>  </p><ul><li>A single character:  <ul><li><code>"A"</code>, <code>"B"</code>, or <code>"C"</code> → chosen option.  </li><li><code>"D"</code> → if taking money.</li></ul></li></ul><hr><p><strong>Examples:</strong>  </p><table><thead><tr><th>preferred</th><th>blacklisted</th><th>options</th><th>expected result</th></tr></thead><tbody><tr><td>attack, defense</td><td>luck</td><td>(luck,25)→A<br>(speed,20)→B<br>(defense,15)→C</td><td>Should pick C: defense (the only preferred option available).</td></tr><tr><td>attack</td><td>luck, speed, defense</td><td>(luck,30)→A<br>(speed,20)→B<br>(defense,15)→C</td><td>Should return D: all options (A, B, C) are blacklisted, so fall back to D.</td></tr><tr><td>attack</td><td>luck</td><td>(luck,30)→A<br>(speed,20)→B<br>(defense,15)→C</td><td>Should pick B: speed (neutral) with the highest value among neutral skills.</td></tr><tr><td>attack, defense</td><td>luck</td><td>(attack,20)→A<br>(defense,20)→B<br>(speed,10)→C</td><td>Should pick A or B: both attack and defense are preferred and tied on value, so either A or B is acceptable.</td></tr></tbody></table><hr><p>Good luck, have fun!</p>